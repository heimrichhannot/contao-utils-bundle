services:
  _instanceof:
    Symfony\Component\DependencyInjection\ContainerAwareInterface:
      calls:
        - ["setContainer", ["@service_container"]]

  HeimrichHannot\UtilsBundle\Util\Utils:
    public: true
    autowire: true
    autoconfigure: true

  HeimrichHannot\UtilsBundle\:
    resource: '../../{Command,EntityFinder,EventListener,Util}/*'
    exclude: '../../Util/Utils.php'
    autowire: true
    autoconfigure: true
    bind:
      $kernelPackages: '%kernel.packages%'
      $projectDir: '%kernel.project_dir%'

  HeimrichHannot\UtilsBundle\Util\Container\ContainerUtil:
    autowire: true
    autoconfigure: true
    bind:
      $kernelBundles: '%kernel.bundles%'
    tags:
      - { name: 'container.service_subscriber', key: 'monolog.logger.contao', id: 'monolog.logger.contao' }

  HeimrichHannot\UtilsBundle\Util\Routing\RoutingUtil:
    autowire: true
    autoconfigure: true
    bind:
      $csrfTokenName: '%contao.csrf_token_name%'
    tags:
      - { name: 'container.service_subscriber', key: 'Contao\CoreBundle\Csrf\ContaoCsrfTokenManager', id: 'contao.csrf.token_manager' }
      - { name: 'container.service_subscriber', key: 'Symfony\Component\Security\Csrf\CsrfTokenManagerInterface', id: 'security.csrf.token_manager' }